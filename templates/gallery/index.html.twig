{% extends 'base.html.twig' %}

{% block title %}{{ gallery.title }}{% endblock %}

{% block stylesheets %}
    <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.css"
    />
    <link rel="stylesheet" href="{{ asset('css/leftSide.css') }}">
{% endblock %}

{% block body %}
    <div class="main-content">
        <div class="project-info">
            <h1 class="project-title">{{ gallery.title|upper }}</h1>
            <p class="project-description">{{ gallery.description }}</p>
        </div>

        <div class="gallery-section">
            <div class="gallery-grid">
                {% for image in gallery.images %}
                    <div class="gallery-item">
                        <a
                                href="{{ asset('uploads/images/' ~ image.filename) }}"
                                data-fancybox="gallery"
                                data-caption="{{ image.altText ?? gallery.title }}"
                        >
                            <img
                                    src="{{ asset('uploads/images/' ~ image.filename) }}"
                                    alt="{{ image.altText ?? gallery.title }}"
                            />
                        </a>
                    </div>
                {% else %}
                    <div class="gallery-item">
                        <p>Aucune image disponible pour cette galerie.</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialisation de Fancybox
            Fancybox.bind('[data-fancybox="gallery"]', {
            });
        });
    </script>
{% endblock %}